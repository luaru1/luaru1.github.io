<p class="post-date">${date}</p>
${content}

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>

<script>
  // 코드 복사 버튼
  document.querySelectorAll(".codehilite").forEach(block => {
    const button = document.createElement("button");
    button.innerText = "복사";
    button.className = "copy-button";
    button.onclick = () => {
      const code = block.innerText;
      navigator.clipboard.writeText(code);
      button.innerText = "복사됨!";
      setTimeout(() => button.innerText = "복사", 1500);
    };
    block.style.position = "relative";
    button.style.position = "absolute";
    button.style.top = "0.5rem";
    button.style.right = "0.5rem";
    block.appendChild(button);
  });

  // 목차 스크롤
  document.querySelectorAll('.toc a[href^="#"]').forEach(anchor => {
    anchor.addEventListener("click", function (e) {
      e.preventDefault();
      const targetId = this.getAttribute("href").substring(1);
      const target = document.getElementById(targetId);
      if (target) {
        // 기본 동작처럼 hash 변경 없이 부드러운 스크롤만
        target.scrollIntoView({ behavior: "smooth" });
      }
    });
  });
</script>